---
marp: true
style: |
  @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;700&display=swap');
  @import "custom.css";
  section {
    font-family: 'Noto Sans JP', 'Hiragino Sans', 'Meiryo', sans-serif;
  }
  /* コードブロック内の日本語フォント設定 */
  section pre code {
    font-family: 'Consolas', 'Monaco', 'Courier New', 'Noto Sans JP', monospace;
  }

paginate: true
footer: Qiita Bash 2025/07/30
---

<center>

#### 【Qiita Bash】Qiita Tech Festa お疲れ様会

</center>

# TDDで(自分の)開発がどう変わったか

<!-- iconを絶対配置することで文字の位置がずれる現象を防ぐ -->
<style>
.icon-absolute {
  position: absolute;
  right: 20px;
  z-index: 10;
}
</style>

<div class="icon-absolute">

![w:170](./assets/icon.png)
</div>

<center>Ryosuke Tomita(sigma)</center>

---

## 自己紹介

- 名前: 富田涼介 (sigma)
- 職業: セキュリティエンジニア NRIセキュアテクノロジーズに所属
- 個人的ニュース: 聴くエンジニアtypeに出演。Podcast聴いてください!
- 一言: そろそろ常連になってきた? 運営様、スポンサー様ありがとうございます。

<!--画像を横並びにする-->
![w:350](./assets/qiitabash20250414.jpg) ![w:350](./assets/qiitabash20250528.jpg) ![w:350](./assets/qiitabash20250702.jpg)

---

## 今日話したいこと

- TDDとはなにか?
- TDD導入のきっかけ
- 実際の導入時の壁
- AIとTDD

---

## TDDとは？（超簡単版）

**テスト駆動開発 = Test Driven Development**

1. **テストを書く** → 失敗を確認
2. **最小限の実装** → テストを通す
3. **リファクタリング** → 設計改善
4. **繰り返し**

<!-- スピーカーノート: TDDについて詳しく知りたい方はKent Beckの「テスト駆動開発」を読んでください。今日は定義よりも実体験を重視してお話しします。 -->

---

## TDD導入のきっかけ　「おらこんな環境いやだ〜TDDするだ〜」

**自動テストが欲しい**

- 手動テストから解放されたい
- デプロイしてから動作確認をするのは時間がかかる

---

## 実際の導入時の壁

- 開発環境の整備
- どんなテストを書いたらいいかわからない

---

## 開発環境の整備

テストを実行するために労力が必要だとTDDを始めるのが億劫になる

現在の開発環境を段階的に整備した。

- レベル1: デプロイの自動化(CI/CD)
  - テスト実行環境を作るよりは手がつけやすい
- レベル2: ローカルの開発環境構築手順の整備
  - Docker化する
  - READMEに動く手順を書く。情報の集約
- レベル3: テスト実行環境の整備

---

## どんなテストを書いたらいい?

ある程度の基礎を勉強したら、手を動かして直感を磨くしかなさそうな気がしている。

- 古典派的アプローチ: 振る舞いをテストする。テストが壊れにくくなる
- 粗結合なコードをつくる
  - DDD
- TDDですべてのテストケースを網羅しようとしない
  - リリース前テストは別で作ったほうが良さそう

単体テストの考え方/使い方(書籍)はおすすめ

---

## TDD導入で得られた4つの効果 ✨

### 1. **集中力UP**

- TDDのフローに沿うことで今やるべきことに集中できる

### 2. **テストのある安心感**

- テストがあることで勇気を持って変更できる

### 3. **設計意識の向上**

- テストしやすいコード = 良い設計を意識するように
- コードをいきなり書かなくなった。

### 4. **開発環境をエンハンスするモチベーション**

- TDDを進める中で、開発環境をより良くしようとする意欲が湧いてくる

---

## AIとTDD(AIと並走する文脈)

例: GitHub Copilot

### TDDのテストを一つ書いて一つ通すというやり方はAIと並走しやすい🙆

- AIと一緒にテストコードを書く(文法とか曖昧でも書きやすい)
- AIと一緒にテストコードを通す
  - テストが実施できるまではAIにまかせてもいいかも
  - テストが通るように実装すれば最低限の品質は保証される
- リファクタリングのアイデアを試しやすい

---

## AIとTDD(AIに全部委託する文脈)

例: Claude Code + Kiro(AWS)

1. 要求定義書(requirements.md)
2. 設計書(design.md)
3. タスクリスト(tasks.md)

3で作成したタスクリストをベースに「t-wadaさんのTDDで実装して」とClaude Codeにお願いすると割といい感じで作ってくれる。

単純に仕様書駆動開発するよりは、タスクをもとにテストを作るほうが良さそう。(少なくとも人間の負担は少ない)

これが最良の方法なのかはわからない

---

## まとめ

- TDDを導入したことでエンジニアとして視野が広がるきっかけになった。
- 少なくともAIにはテストとうガードレールは必要だとは思う。TDDが最良とは思わないので、手を動かしながらいろいろ模索していきたい。

---

## Thanks

今日話しきれなかった部分についてのQiita記事と本日の発表資料のリンクです。
(今回はQiita記事からMarp資料のたたきを作ってもらった)

| Qiita記事 | 今日の登壇資料 | プロフィールページ |
|-----|-----|-----|
| ![w:300](./assets/qiita.png) | ![w:300](./assets/sd.png) |![w:300](./assets/profile.png)  |

※発言はすべて個人の見解であり，所属組織を代表するものではありません
